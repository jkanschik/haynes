<% if @search.number_of_records > 1 %>
    <div class="pager">
    Go to record:
    <%  delta = 3
        delta = 1 if (0..7).include?(@search.number_of_records)
        delta = 2 if (8..12).include?(@search.number_of_records)
    %>
	
    <%= "<p>" + link_to('1', { :controller => :search, :action => :show, :id => @search.search_id, :record => 0}) + "</p>" if @search.record_index > delta %>
    <%= "..." if @search.record_index > delta + 1 %>
    <%= "<p>" + link_to(@search.record_index - 2, { :controller => :search, :action => :show, :id => @search.search_id, :record => @search.record_index - 3}) + "</p>" if @search.record_index > 2 and delta > 2 %>
    <%= "<p>" + link_to(@search.record_index - 1, { :controller => :search, :action => :show, :id => @search.search_id, :record => @search.record_index - 2}) + "</p>" if @search.record_index > 1 and delta > 1 %>
    <%= "<p>" + link_to(@search.record_index, {:controller => :search, :action => :show, :id => @search.search_id, :record => @search.record_index - 1}) + "</p>" if @search.record_index > 0 %>
    <p class="current"><%= @search.record_index + 1 %></p>
    <%= "<p>" + link_to(@search.record_index + 2, { :controller => :search, :action => :show, :id => @search.search_id, :record => @search.record_index + 1}) + "</p>" if @search.record_index < @search.number_of_records - 2 %>
    <%= "<p>" + link_to(@search.record_index + 3, { :controller => :search, :action => :show, :id => @search.search_id, :record => @search.record_index + 2}) + "</p>" if @search.record_index < @search.number_of_records - 3 and delta > 1 %>
    <%= "<p>" + link_to(@search.record_index + 4, { :controller => :search, :action => :show, :id => @search.search_id, :record => @search.record_index + 3}) + "</p>" if @search.record_index < @search.number_of_records - 4 and delta > 2 %>
    <%= "..." if @search.record_index < @search.number_of_records - delta - 1 %>
    <%= "<p>" + link_to(@search.number_of_records, { :controller => :search, :action => :show, :id => @search.search_id, :record => @search.number_of_records - 1}) + "</p>" if @search.record_index < @search.number_of_records - 1%>
    </div>
<% end %>